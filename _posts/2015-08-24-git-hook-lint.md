---
layout: post
title:  "使用「git hook」在提交前lint程序"
date:   2015-08-24 16:19:00
comments: true
categories: git
---

对程序进行lint是开发过程中的一项基本操作，通常我们会把lint功能集成到自动化任务中，在每次修改程序时都进行lint。

这种方式反馈及时，但是在集中精力coding的时候，一般会忽略掉lint的报错。原因大致有两个：一是不愿意分心；二是在修改程序的过程中，有的报错会被消除，甚至有的产生报错的代码都会被删除掉。

由此可以，在修改程序的过程中，程序变化大，对程序进行lint并不是一个好的选择。

而提交代码时，程序已经基本稳定，而且即将成为代码仓库中的一部分。

所以在提交代码前，对其进行lint，是一个不错的选择，而且有这个必要。

如何做到呢？

手动运行指不定哪一次就忘了。还是自动运行吧。

要让git在每次提交时自动运行一些操作，只需要添加一个pre-commit git hook就可以了。

在`.git/`文件夹下有一个`hooks`文件夹，只要在里面添加可运行的脚本，并且合理命名，这些脚本就会在执行特定的git操作时自动执行。

要想git在提交代码前自动运行lint程序，只需要在`.git/hooks/`文件夹中添加`pre-commit`可执行文件，并且在该文件中包含lint功能就可以了。

注：默认情况下，`.git/hooks`文件夹下有一些示例文件，并且添加了`.sample`后缀，并不会自动运行，而是作为示例供参考。
